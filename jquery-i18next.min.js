(function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.jqueryI18next=e()})(this,function(){"use strict";function t(t,r){function i(n,i,o){function d(t,n){return l.parseDefaultValueFromContent?e({},t,{defaultValue:n}):t}if(0!==i.length){var f="text";if(0===i.indexOf("[")){var s=i.split("]");i=s[1],f=s[0].substr(1,s[0].length-1)}i.indexOf(";")===i.length-1&&(i=i.substr(0,i.length-2));var u=d(o,n.html()),p="<div>"+u.defaultValue.toString()+"</div>";r(p).children("["+l.selectorAttr+"]");if(r(p).children("["+l.selectorAttr+"]").length>0){for(var c=t.t(i,u),h=void 0,v=new RegExp(l.childrenRegx,"g");h=v.exec(c);){var g=h[1],m=r(p).children("["+l.selectorAttr+"='"+g+"']"),x="<div>"+a(r(m),o)+"</div>",A=r(x).find("[data-i18n='"+g+"']").prop("outerHTML");c=c.replace(h[0],A)}n.html(c)}else if("html"===f)n.html(t.t(i,u));else if("text"===f)n.text(t.t(i,d(o,n.text())));else if("prepend"===f)n.prepend(t.t(i,u));else if("append"===f)n.append(t.t(i,u));else if(0===f.indexOf("data-")){var O=f.substr("data-".length),c=t.t(i,d(o,n.data(O)));n.data(O,c),n.attr(f,c)}else n.attr(f,t.t(i,d(o,n.attr(f))));return n.prop("outerHTML")}}function a(t,n){var a,o=t.attr(l.selectorAttr);if(o||"undefined"==typeof o||o===!1||(o=t.text()||t.val()),o&&void 0==d[o]){var f=t,s=t.data(l.targetAttr);if(s&&(f=t.find(s)||t),n||l.useOptionsAttr!==!0||(n=t.data(l.optionsAttr)),n=n||{},o.indexOf(";")>=0){var u=o.split(";");r.each(u,function(t,e){""!==e&&(a=i(f,e.trim(),n))})}else a=i(f,o,n);if(l.useOptionsAttr===!0){var p={};p=e({clone:p},n),delete p.lng,t.data(l.optionsAttr,p)}return d[o]=o,a}}function o(t){return d={},this.each(function(){a(r(this),t)})}var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};l=e({},n,l);var d;r[l.tName]=t.t.bind(t),r[l.i18nName]=t,r.fn[l.handleName]=o}var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n={tName:"t",i18nName:"i18n",handleName:"localize",selectorAttr:"data-i18n",targetAttr:"i18n-target",optionsAttr:"i18n-options",useOptionsAttr:!1,parseDefaultValueFromContent:!0,childrenRegx:"\\$c\\((.+?)\\)"},r={init:t};return r});